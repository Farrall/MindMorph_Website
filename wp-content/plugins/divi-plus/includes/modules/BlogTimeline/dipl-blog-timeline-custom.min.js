jQuery(document).ready(function(i){function e(e){var t=e.find(".dipl_blog_timeline_post").first().innerHeight()/2,l=e.find(".dipl_blog_timeline_post").last().innerHeight()/2;e.find(".dipl_stem_wrapper").css("height","calc(100% - "+(t+l)+"px)"),e.find(".dipl_stem_wrapper").css("top",t+"px");var n=e.find(".dipl_blog_timeline_wrapper"),d=n.find(".dipl_blog_timeline_post .dipl_blog_timeline_stem_center").first().offset().top,o=n.find(".dipl_blog_timeline_post .dipl_blog_timeline_stem_center").last().offset().top,p=screen.height/2;if(d<p){var s=e.find(".dipl_stem_wrapper").innerHeight();e.find(".dipl_blog_stem").css("height",Math.min(p-d,o-d-10)+"px"),e.find(".dipl_blog_timeline_stem_center").each(function(){i(this).offset().top<p&&i(this).find(".dipl_blog_timeline_post_icon").addClass("dipl_icon_fill")}),i(window).height()>=i(document).height()&&(e.find(".dipl_blog_stem").css("height",s),e.find(".dipl_blog_timeline_stem_center").each(function(){i(this).find(".dipl_blog_timeline_post_icon").addClass("dipl_icon_fill")}))}i(window).on("scroll",function(){var t=e.find(".dipl_stem_wrapper").innerHeight(),l=i(window).scrollTop(),n=l+(p-d)+"px";parseFloat(n)<parseFloat(t)&&e.find(".dipl_blog_stem").css("height",n),e.find(".dipl_blog_timeline_post").each(function(){var e=i(this).find(".dipl_blog_timeline_stem_center");e.offset().top<p+l?e.find(".dipl_blog_timeline_post_icon").addClass("dipl_icon_fill"):e.find(".dipl_blog_timeline_post_icon").removeClass("dipl_icon_fill")});var o=e.offset().top,s=e.outerHeight(),f=i(window).height()/2;l+f>=o+s&&(e.find(".dipl_blog_stem").css("height",t),e.find(".dipl_blog_timeline_stem_center .dipl_blog_timeline_post_icon").addClass("dipl_icon_fill"))})}i("body").find(".dipl_blog_timeline").length>0&&(i(window).resize(function(){i("body").find(".dipl_blog_timeline").each(function(){var t=i(this);if(t.find(".dipl_blog_timeline_post").length>0&&e(t),i(window).width()>767){if(t.find(".layout2.dipl_blog_timeline_right").length>0){var l=t.find(".dipl_blog_timeline_outer_container").outerWidth(),n=t.find(".dipl_blog_timeline_stem_center").outerWidth(),d=l+n/2+10+"px";t.find(".dipl_stem_wrapper").css("left",d)}if(t.find(".layout2.dipl_blog_timeline_left").length>0){var l=t.find(".dipl_blog_timeline_outer_container").outerWidth(),n=t.find(".dipl_blog_timeline_stem_center").outerWidth(),d=l+n/2+10+"px";t.find(".dipl_stem_wrapper").css("right",d)}}else{if(t.find(".layout2.dipl_blog_timeline_right").length>0){var n=t.find(".dipl_blog_timeline_stem_center").outerWidth(),d=n/2+"px";t.find(".dipl_stem_wrapper").css("left",d)}if(t.find(".layout2.dipl_blog_timeline_left").length>0){var n=t.find(".dipl_blog_timeline_stem_center").outerWidth(),d=n/2+"px";t.find(".dipl_stem_wrapper").css("right",d)}}})}),i("body").find(".dipl_blog_timeline").each(function(){var t=i(this);if(t.find(".dipl_blog_timeline_post").length>0&&e(t),i(window).width()>767){if(t.find(".layout2.dipl_blog_timeline_right").length>0){var l=Math.max.apply(null,t.find(".dipl_blog_timeline_outer_container").map(function(){return i(this).outerWidth()}).get());t.find(".dipl_blog_timeline_outer_container").each(function(){i(this).css("min-width",l+"px")});var n=t.find(".dipl_blog_timeline_stem_center").outerWidth(),d=l+n/2+10+"px";t.find(".dipl_stem_wrapper").css("left",d)}if(t.find(".layout2.dipl_blog_timeline_left").length>0){var l=Math.max.apply(null,t.find(".dipl_blog_timeline_outer_container").map(function(){return i(this).outerWidth()}).get());t.find(".dipl_blog_timeline_outer_container").each(function(){i(this).css("min-width",l+"px")});var n=t.find(".dipl_blog_timeline_stem_center").outerWidth(),d=l+n/2+10+"px";t.find(".dipl_stem_wrapper").css("right",d)}}else{if(t.find(".layout2.dipl_blog_timeline_right").length>0){var n=t.find(".dipl_blog_timeline_stem_center").outerWidth(),d=n/2+"px";t.find(".dipl_stem_wrapper").css("left",d)}if(t.find(".layout2.dipl_blog_timeline_left").length>0){var n=t.find(".dipl_blog_timeline_stem_center").outerWidth(),d=n/2+"px";t.find(".dipl_stem_wrapper").css("right",d)}}}))});